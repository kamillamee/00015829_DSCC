{% extends 'tasks/base.html' %}
{% block title %}{{ project.name }}{% endblock %}
{% block content %}
<h1>{{ project.name }}</h1>
<p>{{ project.description }}</p>
<a href="{% url 'project_update' project.pk %}" class="btn btn-secondary">Edit Project</a>
<a href="{% url 'project_delete' project.pk %}" class="btn btn-danger">Delete Project</a>
<a href="{% url 'task_create' project.pk %}" class="btn btn-success">Add Task</a>

<h3 class="mt-4">Tasks</h3>
<ul class="list-group">
    {% for task in tasks %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <span>
            {{ task.title }} - <span class="badge bg-info">{{ task.get_status_display }}</span>
            {% for tag in task.tags.all %}<span class="badge bg-secondary">{{ tag.name }}</span>{% endfor %}
        </span>
        <span>
            <a href="{% url 'task_update' project.pk task.pk %}" class="btn btn-sm btn-outline-secondary">Edit</a>
            <a href="{% url 'task_delete' project.pk task.pk %}" class="btn btn-sm btn-outline-danger">Delete</a>
        </span>
    </li>
    {% empty %}
    <li class="list-group-item">No tasks yet. <a href="{% url 'task_create' project.pk %}">Add one</a>.</li>
    {% endfor %}
</ul>
{% endblock %}
